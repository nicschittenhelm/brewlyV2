<nav
  class="h-20 w-full flex justify-between items-center px-20 backdrop-blur-lg bg-[#333333] bg-opacity-40 z-40 fixed top-0"
>
  <a
    [routerLink]="['/home']"
    routerLinkActive="router-link-active"
    class="font-bold text-3xl"
    >Brewly</a
  >
  <span class="flex space-x-10">
    <a
      [routerLink]="['/home']"
      routerLinkActive="router-link-active"
      class="whitespace-nowrap relative inline-block group"
    >
      <span class="relative z-10 font-semibold text-xl">Home</span>
      <span
        class="absolute -inset-1 bg-gradient-to-br from-orange-500 to-orange-700 transform -skew-y-3 scale-75 z-0 opacity-0 transition duration-200 ease-in-out group-hover:opacity-100 group-hover:scale-100 shadow-md"
      ></span>
    </a>

    <a
      [routerLink]="['/shop']"
      routerLinkActive="router-link-active"
      class="whitespace-nowrap relative inline-block group"
    >
      <span class="relative z-10 font-semibold text-xl">Shop</span>
      <span
        class="absolute -inset-1 bg-gradient-to-br from-orange-500 to-orange-700 transform -skew-y-3 scale-75 z-0 opacity-0 transition duration-200 ease-in-out group-hover:opacity-100 group-hover:scale-100 shadow-md"
      ></span>
    </a>

    <a
      [routerLink]="['/about']"
      routerLinkActive="router-link-active"
      class="whitespace-nowrap relative inline-block group"
    >
      <span class="relative z-10 font-semibold text-xl">Über uns</span>
      <span
        class="absolute -inset-1 bg-gradient-to-br from-orange-500 to-orange-700 transform -skew-y-3 scale-75 z-0 opacity-0 transition duration-200 ease-in-out group-hover:opacity-100 group-hover:scale-100 shadow-md"
      ></span>
    </a>
  </span>

  <div class="group flex flex-col">
    <a [routerLink]="['/login']" routerLinkActive="active" class="relative">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="feather feather-shopping-cart"
        [ngClass]="{ 'animate-zoom-in-out': animateCartIcon }"
      >
        <circle cx="9" cy="21" r="1"></circle>
        <circle cx="20" cy="21" r="1"></circle>
        <path
          d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"
        ></path>
      </svg>
      <span
        *ngIf="itemCount > 0"
        class="absolute top-0 right-0 w-5 h-5 bg-red-500 text-white text-xs font-semibold rounded-full flex items-center justify-center -mr-3 -mt-2"
      >
        {{ itemCount }}
      </span>
    </a>

    <div class="bg-red-500 relative">
      <div
        class="absolute bg-white h-min w-[400px] top-0.5 right-0 hidden group-hover:block p-6 rounded-lg shadow-2xl text-customDark"
      >
        <div class="flex flex-col">
          <h1
            class="font-bold text-2xl text-center mb-4 flex-shrink-0 border-b-[1px] border-gray-200"
          >
            Warenkorb
          </h1>

          <ul class="h-[300px] overflow-y-scroll">
            <li
              *ngFor="let item of cartItems; let i = index"
              class="flex justify-between items-center border-b border-gray-300 p-4"
            >
              <div class="flex-1 min-w-0">
                <strong class="block">{{ item.title }}</strong>
                {{ item.weight }}g
              </div>
              <div class="flex items-center space-x-4">
                <span class="whitespace-nowrap">{{ item.price }} €</span>
                <button
                  (click)="removeItem(i)"
                  class="text-gray-500 hover:text-red-600 focus:outline-none"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="feather feather-x"
                  >
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                  </svg>
                </button>
              </div>
            </li>
          </ul>

          <div class="flex justify-between text-lg font-bold my-3">
            <span>Gesamt</span>
            <span>{{ getTotal() | number : "1.2-2" }} €</span>
          </div>

          <a
            routerLink="/login"
            class="bg-customDark text-white flex p-2 items-center justify-center w-full rounded-full shadow-md font-bold"
          >
            <span class="ml-3 text-center">Zur Kasse</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</nav>
